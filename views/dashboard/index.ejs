<div class="container-fluid container-fluid-custom pb-5 mb-5">
  <div class="row mb-4">
    <div class="col">
      <h1>Hey, <%- userName %></h1>
    </div>
    <div class="col text-end">
      <a href="/dashboard/add" class="btn btn-primary">+ New Notes</a>
    </div>
  </div>

  <div class="row">
    <% if(notes.length > 0) { for(var i =0; i < notes.length; i++) { %>
    <div class="col-sm-3 mb-4">
      <div class="card border-primary" style="min-height: 210px">
        <a
          href="/dashboard/item/<%= notes[i]._id %>"
          class="card-body text-decoration-none"
        >
          <h5 class="card-title"><%= notes[i].title %></h5>
          <p class="card-title"><%= notes[i].description %></p>
        </a>
      </div>
    </div>

    <% }} else { %>
    <div class="row">
      <div class="col-3">
        <img
          src="/img/human-3.svg"
          alt="Human pointing hand toward a create button"
        />
      </div>
      <div class="col mt-md-4">
        <h2>Okay...</h2>
        <h4>
          Let's start with your first note! <br />
          <br />
          <a href="/dashboard/add">Create Note</a>
        </h4>
      </div>
    </div>

    <% } %>
  </div>

  <% if(notes.length > 0) { %>
  <nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center mt-5">
      <% if(current >1) { %>
        <li class="page-item">
          <a class="page-link" href="/dashboard?page=<%= current - 1 %>">Previous</a>
        </li>
      <% } else { %>
        <li class="page-item disabled">
          <a class="page-link" href="#">Previous</a>
        </li>
      <% } %>

      <% var startPage = (Number(current) > 5 ? Number(current) - 4 : 1); %>
      <% if(startPage !== 1) { %>
        <li class="page-item">
          <a class="page-link" href="/dashboard?page=1">1</a>
        </li>
        <li class="page-item disabled">
          <a class="page-link" href="#">...</a>
        </li>
      <% } %>

      <% for(var i = startPage; i <= (Number(current) + 4) && i <= pages; i++) { %>
        <% if(i === Number(current)) { %>
          <li class="page-item active">
            <a class="page-link" href="#"><%= i %></a>
          </li>
        <% } else { %>
          <li class="page-item">
            <a class="page-link" href="/dashboard?page=<%= i %>"><%= i %></a>
          </li>
        <% } %>
      <% } %>

      <% if((Number(current) + 4) < pages) { %>
        <li class="page-item disabled">
          <a class="page-link" href="#">...</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="/dashboard?page=<%= pages %>"><%= pages %></a>
        </li>
      <% } %>

      <% if(current < pages) { %>
        <li class="page-item">
          <a class="page-link" href="/dashboard?page=<%= Number(current) + 1 %>">Next</a>
        </li>
      <% } else { %>
        <li class="page-item disabled">
          <a class="page-link" href="#">Next</a>
        </li>
      <% } %>
    </ul>
  </nav>
  <% } %>
</div>
